Pantelis Eleftheriadis
csd3942

Στο αρχειο my_utils.c βρίσκονται οι υλοποιήσεις των βοηθητικών συναρτήσεων που χρησιμοποιούνται από το cs345sh.c, στο my_utils.h υπάρχουν οι υπογρφές τον συναρτήσεων από το my_utils.c.

Στο αρχείο cs345sh.c:

Στην main υπάρχει μια do while που σε κάθε επανάληψη τυπώνει το prompt μήνυμα με το όνομα του χρήστη και το current directory. Διαβάζει μια γραμμή από το stdin, χωρίζει τις διάφορες εντολές εαν υπάρχουν pipes μεταξύ τους και τις αποθηκεύει με την ίδια σειρά σε ένα array. Καλλείτε μετά η exec_commands που πέρνει σαν όρισμα το αυτο array.

Η exec_commands είναι υπευθυνει στο να καταλάβει τι είδους εντολή είναι αυτή και να την τρέξει με τον τρόπο που πρέπει. Και επίσης βλέπει αν κάποια έντολη έχει redirections ώστε η εντολη να διαβάσει απο ένα file ή να γράψει ή και τα δύο. Αναλογη διαδικασία γίνεται αν υπάρχει επόμενη εντολή στο array, ώστε να πάει να γράψει στο pipe και αργότερα η επόμενη εντολή να διαβάσει απο αυτό.